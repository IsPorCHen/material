<Page x:Class="DataBinding.Pages.LoginPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:validators="clr-namespace:DataBinding.Validators"
      Title="LoginPage">

    <StackPanel Style="{StaticResource CenteredStackPanel}">
        <TextBlock Text="Вход в систему" Style="{StaticResource PageTitleTextBlock}"/>
        
        <TextBox x:Name="DoctorIdTextBox" 
                 materialDesign:HintAssist.Hint="ID доктора"
                 materialDesign:TextFieldAssist.HasClearButton="False"
                 Validation.ErrorTemplate="{x:Null}">
            <TextBox.Text>
                <Binding Path="LoginDoctorId" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <Binding.ValidationRules>
                        <validators:RequiredRule ErrorMessage="Введите ID доктора"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <ItemsControl ItemsSource="{Binding ElementName=DoctorIdTextBox, Path=(Validation.Errors)}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ErrorContent}" Style="{StaticResource ErrorTextBlock}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        
        <PasswordBox x:Name="loginPassword" 
                     materialDesign:HintAssist.Hint="Пароль"
                     Validation.ErrorTemplate="{x:Null}"/>
        
        <WrapPanel Style="{StaticResource HorizontalWrapPanel}">
            <Button Content="Войти" Style="{StaticResource AddButton}" Click="LoginButton_Click"/>
            <Button Content="Регистрация" Click="RegisterButton_Click"/>
        </WrapPanel>
    </StackPanel>
</Page>
