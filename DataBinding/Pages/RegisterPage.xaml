<Page x:Class="DataBinding.Pages.RegisterPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:validators="clr-namespace:DataBinding.Validators"
      Title="RegisterPage">

    <StackPanel Style="{StaticResource CenteredStackPanel}">
        <TextBlock Text="Регистрация доктора" Style="{StaticResource PageTitleTextBlock}"/>

        <TextBox x:Name="LastNameTextBox" 
                 materialDesign:HintAssist.Hint="Фамилия *">
            <TextBox.Text>
                <Binding Path="LastName" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <Binding.ValidationRules>
                        <validators:RequiredRule ErrorMessage="Фамилия обязательна для заполнения"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <ItemsControl ItemsSource="{Binding ElementName=LastNameTextBox, Path=(Validation.Errors)}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ErrorContent}" Style="{StaticResource ErrorTextBlock}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <TextBox x:Name="NameTextBox" 
                 materialDesign:HintAssist.Hint="Имя *">
            <TextBox.Text>
                <Binding Path="Name" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <Binding.ValidationRules>
                        <validators:RequiredRule ErrorMessage="Имя обязательно для заполнения"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <ItemsControl ItemsSource="{Binding ElementName=NameTextBox, Path=(Validation.Errors)}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ErrorContent}" Style="{StaticResource ErrorTextBlock}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <TextBox x:Name="MiddleNameTextBox" 
                 materialDesign:HintAssist.Hint="Отчество *">
            <TextBox.Text>
                <Binding Path="MiddleName" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <Binding.ValidationRules>
                        <validators:RequiredRule ErrorMessage="Отчество обязательно для заполнения"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <ItemsControl ItemsSource="{Binding ElementName=MiddleNameTextBox, Path=(Validation.Errors)}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ErrorContent}" Style="{StaticResource ErrorTextBlock}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <TextBox x:Name="SpecialisationTextBox" 
                 materialDesign:HintAssist.Hint="Специализация *">
            <TextBox.Text>
                <Binding Path="Specialisation" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                    <Binding.ValidationRules>
                        <validators:RequiredRule ErrorMessage="Специализация обязательна для заполнения"/>
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <ItemsControl ItemsSource="{Binding ElementName=SpecialisationTextBox, Path=(Validation.Errors)}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ErrorContent}" Style="{StaticResource ErrorTextBlock}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <PasswordBox x:Name="PasswordBox" 
                     materialDesign:HintAssist.Hint="Пароль *"/>

        <PasswordBox x:Name="ConfirmPasswordBox" 
                     materialDesign:HintAssist.Hint="Подтверждение пароля *"/>

        <TextBlock Text="* - обязательные поля" Style="{StaticResource HintTextBlock}"/>

        <WrapPanel Style="{StaticResource HorizontalWrapPanel}">
            <Button Content="Зарегистрироваться" Click="RegisterButton_Click" Style="{StaticResource AddButton}"/>
            <Button Content="Назад" Click="BackButton_Click"/>
        </WrapPanel>
    </StackPanel>
</Page>
